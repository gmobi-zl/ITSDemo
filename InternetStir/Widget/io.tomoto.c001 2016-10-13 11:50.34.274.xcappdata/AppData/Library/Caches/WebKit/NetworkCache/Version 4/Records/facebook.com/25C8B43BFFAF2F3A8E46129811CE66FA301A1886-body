if (self.CavalryLogger) { CavalryLogger.start_js(["TREJ4"]); }

__d("XEgoHideLoggingController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ego\/feed\/logging\/xout\/",{ego_id:{type:"Int",required:true},qid:{type:"Int",required:true},mf_story_key:{type:"Int",required:true},service_id:{type:"String",required:true}});}),null);
__d("XEgoPYMIActionsLoggingController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pymi\/logging\/",{action:{type:"String",required:true},invitee_name:{type:"String"},qid:{type:"Int"},mf_story_key:{type:"String"},ego_id:{type:"Int"},how_found:{type:"String"}});}),null);
__d("XFeedEgoImpressionLoggingController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ego\/feed\/logging\/impression\/",{ego_id:{type:"Int",required:true},qid:{type:"Int",required:true},mf_story_key:{type:"Int",required:true},uid:{type:"Int"}});}),null);
__d('MSwipeInfiniteScroller',['CSS','DataAttributeUtils','DOM','Stratcom','MSwipeInfiniteScrollerLoadMore','XEgoHideLoggingController','MFriendingState','MScrollAreaHelper','MLegacyDataStore','cx','XFeedEgoImpressionLoggingController','XEgoPYMIActionsLoggingController','AsyncSignal','MRequest'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v=3,w={},x={};function y(ea){var fa=ea.getData().event;if(!fa.getNode('m-swipe-pymk-item')&&!fa.getNode('m-swipe-pysf-item'))return;var ga=fa.getTarget(),ha=p.get(ga);ha._delayTimer&&clearTimeout(ha._delayTimer);ha._delayTimer=setTimeout(function(){if(ha.scrollArea===undefined)ha.scrollArea=o.findScrollArea(ga,12);if(ha.scrollArea){ha.scrollArea.scrollByPages(1);k.invoke('MSwipeInfiniteScroller:autoScrollStart',null,fa);}},1000);ha._touchstartListener&&ha._touchstartListener.remove();ha._touchstartListener=k.listen('touchstart',null,function(ia){clearTimeout(ha._delayTimer);delete ha._delayTimer;ha._touchstartListener.remove();delete ha._touchstartListener;});}function z(event){var ea=event.getData(),fa=ea.scrollarea;ba(fa,ea.container);}var aa=function ea(fa){var ga=JSON.parse(i.getDataFt(fa));if(!ga)return;var ha=ga.ego_id,ia=ga.qid,ja=ga.mf_story_key,ka=(ia+ja).toString();if(!ha||w[ka]&&w[ka][ha])return;var la=r.getURIBuilder().setInt('ego_id',ha).setInt('qid',ia).setInt('mf_story_key',ja).getURI();new t(la,{}).send();if(!w[ka])w[ka]={};w[ka][ha]=true;};function ba(ea,fa){var ga=ea.getScrollPageIndex()+1,ha=ea.getScrollPageCount(),ia=ea.getScrollPageIndex();if(ga+v>=ha)l.maybeLoadMore(fa);var ja=ea.getChildAtPageIndex(0);if(!ja){j.remove(ea._content.parentNode.parentNode.parentNode);return;}var ka=JSON.parse(i.getDataFt(ja));if(!ka)return;var la=ka.qid,ma=ka.mf_story_key,na=0,oa=(la+ma).toString();if(x[oa])na=x[oa];for(var pa=na;pa<=ia;pa++)aa(ea.getChildAtPageIndex(pa));x[oa]=Math.max(na,ia+1);}function ca(event){var ea=event.getNode('m-swipe-pymi-item');if(!ea)return;var fa=o.findScrollArea(ea);if(!fa)return;setTimeout(function(){fa.scrollByPages(1);},500);}function da(event){var ea=event.getNode('m-swipe-pymk-item'),fa='PYMK';if(!ea){ea=event.getNode('m-swipe-pysf-item');fa='PYSF';}if(!ea){ea=event.getNode('m-swipe-pymi-item');fa='PYMI';}if(!ea)return;var ga=o.findScrollArea(ea);if(!ga)return;var ha=JSON.parse(i.getDataFt(ea));if(ha&&ha.ego_id){var ia=m.getURIBuilder().setInt('ego_id',ha.ego_id).setInt('qid',ha.qid).setInt('mf_story_key',ha.mf_story_key).setString('service_id',fa).getURI();new u(ia).send();if(fa=='PYMI'){var ja=s.getURIBuilder().setString('action','xout').setInt('ego_id',ha.ego_id).setString('how_found','mtouch_feed').getURI();new u(ja).send();}}h.addClass(ea,"_3m57");setTimeout(function(){j.remove(ea);l.reflow(ga._element.id);ba(ga,ga._content);},500);var ka=ga.getScrollPageIndex()+1,la=ga.getChildAtPageIndex(ka);aa(la);}k.listen('MScrollArea:scrollend','infiniteScroller',z);k.listen('click','invite-contact-button',ca);k.listen(n.REQUEST_SENT,null,y);k.listen('click','m-swipe-xout',da);g.logImpressionForElement=aa;}),null);
__d('MTimelineHScroll',['MLegacyDataStore','DOM','mixInEventEmitter','MLoadingIndicator','MLoadingIndicatorSigils','MRequest','Stratcom','destroyOnUnload'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=3;function q(r){'use strict';this.$MTimelineHScroll1=r;var s=false,t=[n.listen('MScrollArea:create',null,function(u){if(u.getData().element===this.$MTimelineHScroll1){this.$MTimelineHScroll2=u.getData().scrollarea;if(this.$MTimelineHScroll2.isLastPage())this.$MTimelineHScroll3();this.emit('scrollCreate',{pageIndex:this.$MTimelineHScroll2.getScrollPageIndex(),pageCount:this.$MTimelineHScroll2.getScrollPageCount()});}}.bind(this)),n.listen('MScrollArea:scrollstart',null,function(u){if(u.getData().scrollarea===this.$MTimelineHScroll2)if(!s){this.$MTimelineHScroll3();s=true;}}.bind(this)),n.listen('MScrollArea:scrollend',null,function(u){if(u.getData().scrollarea===this.$MTimelineHScroll2){if(this.$MTimelineHScroll2.getScrollPageCount()-this.$MTimelineHScroll2.getScrollPageIndex()<=p)this.$MTimelineHScroll3();this.emit('scrollEnd',{pageIndex:this.$MTimelineHScroll2.getScrollPageIndex(),pageCount:this.$MTimelineHScroll2.getScrollPageCount()});}}.bind(this))];o(function(){while(t.length)t.pop().remove();});}q.prototype.$MTimelineHScroll3=function(){'use strict';var r=i.scry(this.$MTimelineHScroll1,'a','hscroll-pager')[0];if(!r||h.get(r).requestSent)return;new k(i.find(r,'div',l.ROOT));var s=new m(r.href).setMethod('GET');s.listen('done',function(){return this.$MTimelineHScroll2.reflow('auto');}.bind(this));s.send();h.set(r,{requestSent:true});};j(q,{scrollCreate:true,scrollEnd:true});f.exports=q;}),null);
__d("XProfileHideAddLifeEventCardController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/profile\/timeline\/year_overview\/hide_prompt\/",{});}),null);
__d('MTimelineExpandedYearOverviewAddLifeEventLink',['CSS','DOM','MRequest','XProfileHideAddLifeEventCardController','destroyOnUnload'],(function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();function m(n,o,p){'use strict';var q=i.listen(p,'click',null,function(){h.hide(o);var r=k.getURIBuilder().getURI();new j(r).setData({year:n}).send();});l(function(){return q.remove();});}f.exports=m;}),null);
__d('MAdsScrollOnMarginTap',['MLegacyDataStore','DOM','Stratcom','MScrollAreaHelper','BanzaiODS'],(function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m='scroller-item-mask';function n(event){var r=event.getData();p(r.element);}function o(r){p(r.getData());}function p(r){var s=h.get(r);if(!s.scrollOnMarginTap)return;i.scry(r,'div',m).forEach(i.remove);var t=s.scrollArea,u=t.getScrollPageIndex(),v=t.getChildAtPageIndex(u),w={height:v.offsetHeight+'px',position:'absolute',top:0,width:v.offsetWidth+'px',zIndex:99};if(!t.isFirstPage()){var x=i.create('div',{onclick:t.scrollByPages.bind(t,-1),sigil:m,style:w}),y=t.getChildAtPageIndex(u-1);y.appendChild(x);}if(!t.isLastPage()){var z=i.create('div',{onclick:q.bind(),sigil:m,style:w}),aa=t.getChildAtPageIndex(u+1);aa.appendChild(z);}}function q(event){var r=k.findScrollArea(event.toElement);r.scrollByPages(1);l.bumpEntityKey('feed_ads','m_site_tap_on_margin_next');}j.listen('MScrollArea:create',null,n);j.listen('MScrollArea:scrollend','egoScroller',n);j.listen('m:ads-infinite-hscroll:loaded',null,o);f.exports={};}),null);
__d('MDynamicAdLogger',['$','MLegacyDataStore','DOM','FBJSON','MarauderLogger','JSLog','Stratcom','ge','XFeedEgoImpressionLoggingController','MRequest'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r='first_hscroll_ad_shown',s='new_hscroll_ad_shown',t='item',u='pixelContainer',v;function w(){if(!v){v=n.listen('MScrollArea:scrollend','egoScroller',y);n.listen('m:page:unload',null,function(){n.removeCurrentListener();v.remove();v=null;});}}function x(ca){var da=h(ca),ea=i.get(da),fa=aa(da,0);fa.forEach(function(ga){if(ga.element){z(da,ga);var ha=i.get(ga.element),ia={uid:ea.userId,adid:ha.adId,size:ea.size};l.log(r,ea.loggingModule,ia);}});}function y(event){var ca=event.getData(),da=ca.element,ea=i.get(da),fa=ca.scrollarea,ga=fa.getScrollPageIndex(),ha=fa.getScrollPageCount(),ia=aa(da,ga);ia.forEach(function(ja){var ka=ba(da)?(ha-1)*ea.groupSize+1:ha*ea.groupSize;if(ea.size==ja.count&&ea.size==ka&&ja.element){z(da,ja);var la=i.get(ja.element),ma={scrolled_by_user:ca.scrolledByUser,pos:ja.position,size:ea.size,uid:ea.userId,adid:la.adId};l.log(s,ea.loggingModule,ma);}else{var na=ea.size+", "+ja.count+", "+ha+", ";if(da){var oa=da.getAttribute('data-store');na+="id="+da.getAttribute('data-store-id');na+=" data="+oa;try{na+=" meta=";for(var qa in ea)na+=qa+",";ca=k.parse(oa,f.id);na+=" size2="+ca.size;}catch(pa){if(typeof JSON!=="undefined"){na+=" err";}else na+=" err2";}}m.error('Unexpected number of items reported by scrollArea : '+na);}});}function z(ca,da){if(da.element){var ea=i.get(da.element),fa=j.scry(ca.parentNode,'span',u)[0];if(fa&&ea.pixel){j.appendContent(fa,o(ea.pixel));ea.pixel=null;}if(ea.adId){var ga=i.get(ca);if(ga.loggedItems&&ga.loggedItems[ea.adId]||!ga.qid||!ga.mf_story_key)return;var ha=p.getURIBuilder().setInt('ego_id',ea.adId).setInt('qid',ga.qid).setInt('mf_story_key',ga.mf_story_key).getURI();new q(ha).send();if(!ga.loggedItems)ga.loggedItems={};ga.loggedItems[ea.adId]=true;}}}function aa(ca,da){if(ca){var ea=j.scry(ca,'*',t);if(!ea||ea.length<=0){m.error('no item sigil under scroll area');return [];}var fa=null,ga=j.scry(ca,'*','scroll-area-body')[0];if(ga){if(da>=ga.children.length){m.error('pageIndex '+da+' is larger then total page number '+ga.children.length);return [];}var ha=ga.children[da];fa=n.hasSigil(ha,t)?[ha]:j.scry(ha,'*',t);var ia=i.get(ca);if(!ia||!ia.groupSize||ia.groupSize<fa.length){m.error('More number of items in a group then expected: group size: '+(ia&&ia.groupSize)?ia.groupSize:'unknown'+' item number:'+fa.length);return [];}}else{if(da!==0){m.error('try to get page index not 0 when not scrolling. Index '+da);return [];}fa=ea;}return fa.map(function(ja){return {element:ja,count:ea.length,position:i.get(ja).position};});}}function ba(ca){return j.scry(ca,'*','m-hscroll-ego-loading').length>0;}f.exports={init:w,logImpression:x};}),null);
__d('MDynamicEgoLoader',['MLegacyDataStore','DOM','MRequest','MParent','Stratcom','XFeedEgoLoadController'],(function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n='item',o='m-hscroll-ego-loading',p='egoScroller',q=3,r=-45,s=5;function t(event){var x=event.getData(),y=x.element,z=x.scrollarea,aa=z.getScrollPageIndex(),ba=z.getScrollPageCount();if(aa+q>=ba)v(y);}function u(x){var y=document.getElementById(x),z=k.bySigil(y,p);if(!z)return;var aa=i.scry(z,'*',n).length;if(aa<=q)v(z);}function v(x){var y=h.get(x),z=i.scry(x,'*',o)[0];if(!y||y.loading||!z||!y.serviceId)return;y.loading=true;var aa=i.scry(x,'*',n).map(function(da){return h.get(da).adId;}),ba=m.getURIBuilder().setString('service_id',y.serviceId).setIntVector('ids',aa).setString('loading_id',z.id).setInt('qid',y.qid).setInt('mf_story_key',y.mf_story_key);if(y.groupSize)ba.setInt('group_size',y.groupSize);if(y.replaceData)ba.setString('replace_data',y.replaceData);var ca=new j(ba.getURI());ca.listen('postprocess',function(da){w(x);});ca.send();}function w(x){var y=h.get(x),z=i.scry(x,'*','scroll-area-body')[0],aa=i.scry(x,'*',n),ba=z.children,ca=[r];if(y.firstItemOffset)ca=[y.firstItemOffset];h.get(aa[0]).count=aa.length;var da=ba[0].offsetWidth+s;if(ba.length>1)da=ba[1].offsetLeft-ba[0].offsetLeft;for(var ea=1;ea<ba.length;ea++)ca[ea]=ca[ea-1]+da;for(ea=1;ea<aa.length;ea++)h.get(aa[ea]).count=aa.length;y.scrollArea.reflow(ca);y.size=aa.length;y.loading=false;}l.listen('MScrollArea:scrollend',p,t);f.exports.initLoadingItem=u;}),null);
__d('MEgoHScrollAutoPager',['MLegacyDataStore','MParent','Stratcom'],(function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k='ego-auto-pager',l='scroll-area',m='egoScroller',n=false;function o(){if(n)return;n=true;var p=j.listen('click',[m,l,k],function(event){var q=i.bySigil(event.getNode(k),l),r=h.get(q),s=r.scrollArea;s.scrollByPages(1);});j.listen('m:page:unload',null,function(){j.removeCurrentListener();p.remove();});}f.exports.registerPager=o;}),null);
__d('MScrollAreaScroller',['MAnimator'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=100,j=.15;function k(l,m){'use strict';this._canAnimate=function(){return this.scrolling;}.bind(this);var n=m||{};this._pagingPositions=n.pagingPositions;this._usePaging=n.paging;this._canScrollX=n.direction==='horizontal';this._canScrollY=!this._canScrollX;this.left=n.scrollX||0;this.top=n.scrollY||0;this.noThreshold=n.noThreshold;this._handler=l;this._animator=new h();}k.prototype.dispose=function(){'use strict';if(!this._disposed){this.stop();for(var l in this)delete this[l];this._disposed=true;}};k.prototype.scrollByPages=function(l){'use strict';var m=this.left,n=this.top,o,p;if(this._canScrollX){if(this._pagingPositions){var q=this._getPageIndex()+l;o=this._indexToLeftOffset(q);}else o=Math.floor(m/this.width)*this.width+l*this.width;if(o>this.maxScrollLeft||o<this.minScrollLeft)return;p=n;}else{p=Math.floor(n/this.height)*this.height+l*this.height;if(p>this.maxScrollTop||p<this.minScrollTop)return;o=m;}this.stop();var r=o-m,s=p-n,t=function(v){this.scrolling=v<1;this._scrollTo(m+r*v,n+s*v);}.bind(this),u=function(){this._handler.onScrollEnd(this.left,this.top,false);}.bind(this);this.scrolling=true;this._handler.onScrollStart(this.left,this.top);this._animator.start(t,this._canAnimate,u,k.SCROLL_ANIMATION_DURATION_MS);};k.prototype.setDimensions=function(l,m,n,o,p,q){'use strict';var r=n<l?l:n,s=o<m?m:o;if(this._usePaging){r=l*Math.ceil(r/l);s=m*Math.ceil(s/m);}if(p&&p!=this._pagingPositions)this._pagingPositions=p;this.scrollWidth=r;this.scrollHeight=s;this.width=l;this.height=m;this.maxScrollTop=s-m;this.maxScrollLeft=r-l;if(q){this.minScrollLeft=this.maxScrollLeft*-1;this.maxScrollLeft=0;}this._syncPaging();};k.prototype.stop=function(){'use strict';this._animator.stop();this.scrolling=false;this._touchMoved=false;delete this._moveCoordStart;};k.prototype.doTouchStart=function(l){'use strict';this.stop();var m=l.getTouch(),n=m.pageX,o=m.pageY;this._moveCoordStart={x:n,y:o};this._startX=this.left;this._startY=this.top;this._startDirection=null;this._touchMoved=false;this._scrolled=false;this._skipTouchMove=false;this._scrollList=[{time:Date.now(),position:this._moveCoordStart}];};k.prototype.doTouchMove=function(l){'use strict';if(!this._moveCoordStart||this._skipTouchMove)return;var m=l.getTouch(),n=m.pageX,o=m.pageY,p={x:n,y:o},q=Date.now();this._scrollList.push({time:q,position:p});while(q-this._scrollList[1].time>i)this._scrollList.shift();if(this.scrolling){this._moveTimePrevious=this._moveTimeNow;this._moveTimeNow=q;if(p.y===this._moveCoordNow.y&&p.x===this._moveCoordNow.x)return;}var r=this._moveCoordStart,s=r.x-p.x,t=r.y-p.y;if(!this.scrolling){var u=Math.abs(s),v=Math.abs(t);if(u>this._SCROLL_START_DELTA||v>this._SCROLL_START_DELTA){var w=this.noThreshold||this._canScrollX&&u>v||this._canScrollY&&v>u;if(w){if(this.noThreshold){this._startDirection=this._canScrollX?'x':'y';}else this._startDirection=u>v?'x':'y';this.scrolling=true;this._moveCoordPrevious=this._moveCoordNow;this._moveCoordStart=p;this._moveCoordNow=p;this._moveTimeNow=q;this._touchMoved=true;}else{this._skipTouchMove=true;return;}}}l.prevent();if(this._startDirection==='x'&&!this._canScrollX||this._startDirection==='y'&&!this._canScrollY)return;if(!this._scrolled){this._scrolled=true;this._handler.onScrollStart(this.left,this.top,true);}this._moveCoordPrevious=this._moveCoordNow;this._moveCoordNow=p;this._touchMoved=true;s=this._canScrollX?s:0;t=this._canScrollY?t:0;var x=this._TENSION_FACTOR,y=this._TENSION_LIMIT,z,aa,ba=this._startX+s;if(this._canScrollX){if(ba<this.minScrollLeft){aa=ba-this.minScrollLeft;}else if(ba>this.maxScrollLeft)aa=ba-this.maxScrollLeft;if(aa){z=Math.min(1,Math.abs(aa)/y);z=1-Math.cos(z*Math.PI/2);ba-=aa*Math.pow(x,~~(z*10));}aa=null;}var ca=this._startY+t;if(this._canScrollY){if(ca<this.minScrollTop){aa=ca-this.minScrollTop;}else if(ca>this.maxScrollTop)aa=ca-this.maxScrollTop;if(aa){z=Math.min(1,Math.abs(aa)/y);z=1-Math.cos(z*Math.PI/2);ca-=aa*Math.pow(x,~~(z*10));}}this._scrollTo(ba,ca);};k.prototype.doTouchEnd=function(l){'use strict';if(!this._moveCoordStart)return;if(this.scrolling)l.prevent();var m=0,n=0,o=this._moveCoordPrevious,p=this._moveCoordStart,q=this._moveCoordNow||o||p,r=this._canScrollX?this.left:this.top,s,t,u=this._SCROLLING_DURATION,v=Date.now()-this._moveTimePrevious;if(this._usePaging){this._syncPaging();u=this._PAGING_DURATION;var w=this._getRecentTimeAndLocation(),x=this._getIndexDelta(w.position,w.time),y=this.pageIndex+x;y=this._clamp(y,0,this.pagesCount-1);if(this._canScrollX){s=this._clamp(this._indexToLeftOffset(y),this.minScrollLeft,this.maxScrollLeft);}else s=this._clamp(y*this.height,this.minScrollTop,this.maxScrollTop);}else if(this._touchMoved&&v<this._MAX_TOUCH_MOVE_INTERVAL){n=this._canScrollX?o.x-q.x:o.y-q.y;m=n/v;}else{if(this.top<this.minScrollTop){s=this.minScrollTop;}else if(this.top>this.maxScrollTop){s=this.maxScrollTop;}else if(this.left<this.minScrollLeft){s=this.minScrollLeft;}else if(this.left>this.maxScrollLeft)s=this.maxScrollLeft;if(s!==undefined)u=this._PAGING_DURATION;}this._doPostTouchScrolling(r,s,t,m,u);delete this._moveCoordStart;this._scrollList=null;this._touchMoved=false;};k.prototype.isTouchMoving=function(){'use strict';return this._touchMoved;};k.prototype.scrollTo=function(l,m){'use strict';this.stop();this._handler.onScrollStart(this.left,this.top);this._scrollTo(l,m);this._handler.onScrollEnd(this.left,this.top,false);};k.prototype.getPagingPositions=function(){'use strict';return this._pagingPositions;};k.prototype._doPostTouchScrolling=function(l,m,n,o,p){'use strict';o*=this._SPEED_FACTOR;if(m===undefined){m=l+o*p;if(this._canScrollX){n=this._clamp(m,this.minScrollLeft,this.maxScrollLeft);}else n=this._clamp(m,this.minScrollTop,this.maxScrollTop);if(m!==n)m=n+(m-n)*this._BOUNCE_FACTOR/Math.max(1,Math.abs(o));if(m<l&&n<m||m>l&&n>m)m=n;}if(n===undefined)n=m;if(m===l&&m===n)return;var q=this._canScrollX?function(s){this._scrollTo(s,this.top);}:function(s){this._scrollTo(this.left,s);},r=this._createStepFunction(l,m,n,function(s,t){this.scrolling=t<1;q.call(this,s);});this.scrolling=true;this._animator.start(r,this._canAnimate,r,p);};k.prototype._createStepFunction=function(l,m,n,o){'use strict';m=m===undefined?l:m;n=n===undefined?m:n;var p=m-l,q=n-m;return function(r,s,t){var u;if(q===0){u=l+p*r;}else if(r<=.5){u=l+p*(r/.5);}else u=m+q*((r-.5)/.5);o.call(this,u,r);if(!s)this._handler.onScrollEnd(this.left,this.top,true);}.bind(this);};k.prototype._scrollTo=function(l,m){'use strict';l=Math.round(l);m=Math.round(m);if(this.left!==l||this.top!==m){this.left=l;this.top=m;this._syncPaging();this._handler.onScroll(l,m);}};k.prototype._syncPaging=function(){'use strict';if(this._usePaging){if(!this.height||!this.width){this.pageIndex=0;this.pagesCount=1;return;}this.pageIndex=this._canScrollX?this._getPageIndex():Math.floor(this.top/this.height);this.pagesCount=this._canScrollX?this._getPagesCount():Math.ceil(this.scrollHeight/this.height);}};k.prototype._indexToLeftOffset=function(l){'use strict';if(this._pagingPositions){l=Math.max(Math.min(l,this._pagingPositions.length-1),0);return this._pagingPositions[l];}return l*this.width;};k.prototype._getPagesCount=function(){'use strict';if(this._pagingPositions)return this._pagingPositions.length;return Math.ceil(this.scrollWidth/this.width);};k.prototype._getPageIndex=function(){'use strict';if(this._pagingPositions)for(var l=this._pagingPositions.length-1;l>=0;--l)if(this._pagingPositions[l]<=this.left)return l;return Math.max(0,Math.floor(this.left/this.width));};k.prototype._getRecentTimeAndLocation=function(){'use strict';for(var l=this._scrollList.length-1;l>-1;l--)if(Date.now()-this._scrollList[l].time>i)return this._scrollList[l];return this._scrollList[0];};k.prototype._getRecentTimeDelta=function(l){'use strict';return Date.now()-l;};k.prototype._getRecentScrollDistance=function(l){'use strict';if(this._canScrollX)return Math.abs(this._moveCoordNow.x-l.x);return Math.abs(this._moveCoordNow.y-l.y);};k.prototype._isBackSwipe=function(){'use strict';if(this._canScrollX)return this._moveCoordNow.x>this._moveCoordStart.x;return this._moveCoordNow.y>this._moveCoordStart.y;};k.prototype._isRecentBackSwipe=function(l){'use strict';if(this._canScrollX){return this._moveCoordNow.x>l.x;}else return this._moveCoordNow.y>l.y;};k.prototype._getDistance=function(){'use strict';if(this._canScrollX)return Math.abs(this._moveCoordNow.x-this._moveCoordStart.x);return Math.abs(this._moveCoordNow.y-this._moveCoordStart.y);};k.prototype._crossesMedian=function(){'use strict';if(this._canScrollX)return this._getDistance()>this.width/2;return this._getDistance()>this.height/2;};k.prototype._getVelocity=function(l,m){'use strict';return l/m;};k.prototype._getIndexDelta=function(l,m){'use strict';if(!this._touchMoved)return 0;var n=this._crossesMedian(),o=this._isBackSwipe(),p=this._isRecentBackSwipe(l),q=this._getVelocity(this._getRecentScrollDistance(l),this._getRecentTimeDelta(m));if(q>j)return p?0:1;if(n)return o?0:1;return o?1:0;};k.prototype._clamp=function(l,m,n){'use strict';return l<m?m:l>n?n:l;};Object.assign(k.prototype,{scrolling:false,width:0,height:0,scrollWidth:0,scrollHeight:0,left:0,top:0,minScrollTop:0,minScrollLeft:0,maxScrollTop:0,maxScrollLeft:0,pagesCount:0,pageIndex:0,noThreshold:false,_SPEED_FACTOR:/android/gi.test(navigator.appVersion)?1:.2,_MAX_TOUCH_MOVE_INTERVAL:220,_SCROLL_START_DELTA:2,_PAGING_DURATION:400,_SCROLLING_DURATION:450,_TENSION_FACTOR:/android/gi.test(navigator.appVersion)?.4:.95,_TENSION_LIMIT:30,_BOUNCE_FACTOR:.35});k.SCROLL_ANIMATION_DURATION_MS=500;f.exports=k;}),null);
__d('MScrollArea',['CSS','DOM','ErrorUtils','MJSEnvironment','MScrollAreaScroller','Stratcom','StratcomManager','cancelAnimationFrame','ex','getVendorPrefixedName','requestAnimationFrame','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t=/Firefox/.test(navigator.userAgent),u=['enableMarauderLogging','infiniteScroller','egoScroller'];function v(w,x,y){'use strict';this.reflow=function(ba){if(this._disposed||!this._element.offsetWidth)return;m.invoke('MScrollArea:reflow',null,this._eventData);var ca=t&&this._content?this._content.style:null,da;if(ca){da=ca.overflow;ca.overflow='hidden';}if(!ba||ba==='auto'&&this._isHorizontal)ba=this.calculatePagingPositions();if(ba!=this._pagingPositions)this._pagingPositions=ba;var ea=this.useCustomScrollHeight?this.customScrollHeight:this._content.scrollHeight;this._scroller.setDimensions(this._element.offsetWidth+(this._isHorizontal?this._betweenSpacing:0),this._element.offsetHeight+(!this._isHorizontal?this._betweenSpacing:0),this._content.scrollWidth,ea,ba,this._invertX);var fa=Math.min(this._scroller.top,this._scroller.maxScrollTop),ga=Math.min(this._scroller.left,this._scroller.maxScrollLeft);if(fa!==this._scroller.top||ga!==this._scroller.left)this.scrollTo(ga,fa);if(ca)ca.overflow=da;this._syncPaginator();}.bind(this);this._onTouchMove=function(ba){m.pass();if(ba.getStopped()){this._onTouchEnd();return;}else this._scroller.doTouchMove(ba);}.bind(this);this._onTouchEnd=function(ba){this._scroller.doTouchEnd(ba);this._clearListeners();}.bind(this);this._renderScroll=function(){if(this._disposed)return;if(this._scrollBounds){var ba,ca;if(this._isHorizontal){ba=this._scroller.left;ca=this._scroller.minScrollLeft;}else{ba=this._scroller.top;ca=this._scroller.minScrollTop;}var da,ea=this._scroller.getPagingPositions();if(ea)da=ea[ea.length-1];if(ba<ca||da&&ba>da)return;}delete this._renderID;var fa=-this._scroller.left,ga=-this._scroller.top;if(this.renderedLeft!==fa||this.renderedTop!==ga){this.renderedLeft=fa;this.renderedTop=ga;var ha=this._content,ia=this._isHorizontal?fa:ga,ja=this._isHorizontal?this.getScrollWidth():this.getScrollHeight();if(ia>0&&ia>ja/4)m.invoke('MScrollArea:limit',null,this._eventData);if(this._isContainerDraggable)if(ia<0){this._updateElementPosition(this._element,0,0);}else{ha=this._element;this._updateElementPosition(this._content,0,0);}this._updateElementPosition(ha,ga,fa);}if(this._renderSlowly&&this._scroller.scrolling)this._renderID=r(this._renderScroll);}.bind(this);var z=y||{};this._enabled=true;this.customScrollHeight=0;this.useCustomScrollHeight=z.useCustomScrollHeight;this._element=w;this._content=x;this._listeners=[];this._isHorizontal=z.direction==='horizontal';this._automaticPaging=z.pagingPositions==='auto'&&this._isHorizontal;if(this._automaticPaging)this._automaticPagingStrategy=z.pagingStrategy||'centered';if(this._automaticPaging){z.pagingPositions=this.calculatePagingPositions();z.betweenSpacing=0;}if(z.pagingPositions)this._pagingPositions=z.pagingPositions;this._scroller=new l(this,z);this._isContainerDraggable=z.containerDraggable;this._betweenSpacing=z.betweenSpacing||0;this._scrollBounds=z.scrollBounds;this._invertX=z.invertX;this._eventData={scrollarea:this,element:w,contentElement:this._content,scrolledByUser:false,container:this._content,scrollEndCount:0,logName:z.logName,logData:z.logData};if(z.showpaginator&&this._isHorizontal)this._paginatorEl=i.find(this._element,'div','scroll-area-paginator');this.reflow(this._pagingPositions);this._renderScroll();this._scrollStart=false;if(z.pageIndex)if(this._isHorizontal){this.scrollTo(this.getScrollWidth()*z.pageIndex,0);}else this.scrollTo(0,this.getScrollWidth()*z.pageIndex);var aa=function(){if(!this._disposed)m.invoke('MScrollArea:create',null,this._eventData);}.bind(this);s(aa,1000);}v.prototype.setCustomScrollHeight=function(w){'use strict';this.customScrollHeight=w;};v.prototype.calculatePagingPositions=function(){'use strict';var w=this._content.offsetWidth,x=this._content.children,y=[0],z=[x[0]?x[0].offsetWidth:0];for(var aa=1,ba=x.length;aa<ba;aa++){var ca=x[aa].offsetLeft,da=x[aa].offsetWidth,ea=ca+da,fa=y[y.length-1];if(ea>fa+w){y.push(ca);z.push(da);}else z[z.length-1]=ea-fa;}if(this._automaticPagingStrategy==='centered')for(aa=1,ba=y.length-1;aa<ba;aa++)y[aa]-=Math.round((w-z[aa])/2);y[y.length-1]-=w-z[z.length-1];return y;};v.prototype.dispose=function(){'use strict';if(!this._disposed){o(this._renderID);if(this._paginatorEl)i.setContent(this._paginatorEl,'');this._clearListeners();this._scroller.dispose();for(var w in this)delete this[w];this._disposed=true;}};v.prototype.isTouchMoving=function(){'use strict';return this._scroller.isTouchMoving();};v.prototype.reset=function(){'use strict';if(this._disposed)return;this.scrollTo(0,0);this._updateElementPosition(this._content,0,0);this._updateElementPosition(this._element,0,0);};v.prototype.scrollByPages=function(w){'use strict';if(!this._disposed)this._scroller.scrollByPages(w);};v.prototype.scrollTo=function(w,x){'use strict';if(this._disposed)return;this._scroller.scrollTo(w,x);this._renderScroll();};v.prototype.scrollToIndex=function(w){'use strict';this.reflow(this._pagingPositions);this.scrollTo(this.getScrollWidth()*w,0);};v.prototype.isScrolling=function(){'use strict';return this._scrollStart;};v.prototype.getScrollLeft=function(){'use strict';return this._scroller.left;};v.prototype.getScrollTop=function(){'use strict';return this._scroller.top;};v.prototype.getMaxScrollTop=function(){'use strict';return this._scroller.maxScrollTop;};v.prototype.getMaxScrollLeft=function(){'use strict';return this._scroller.maxScrollLeft;};v.prototype.getScrollWidth=function(){'use strict';return this._scroller.width;};v.prototype.getScrollHeight=function(){'use strict';return this._scroller.height;};v.prototype.getScrollPageCount=function(){'use strict';return this._scroller.pagesCount;};v.prototype.getScrollPageIndex=function(){'use strict';return this._scroller.pageIndex;};v.prototype.isFirstPage=function(){'use strict';return this._scroller.pageIndex===0;};v.prototype.isLastPage=function(){'use strict';return this._scroller.pageIndex+1===this._scroller.pagesCount;};v.prototype.appendChild=function(w){'use strict';this._content.appendChild(w);};v.prototype.prependChild=function(w){'use strict';i.prependContent(this._content,w);};v.prototype.getNumChildren=function(){'use strict';return this._content.children.length;};v.prototype.getChildAtPageIndex=function(w){'use strict';return this._content.children[w];};v.prototype.emptyChildren=function(){'use strict';i.setContent(this._content,null);};v.prototype.getAutomaticPaging=function(){'use strict';return this._automaticPaging;};v.prototype.onTouchStart=function(w){'use strict';this.reflow(this._pagingPositions);this._scroller.doTouchStart(w);this._clearListeners();if(this._enabled)this._bindListeners();};v.prototype.onTouchMove=function(w){'use strict';this._onTouchMove(w);};v.prototype.onTouchEnd=function(w){'use strict';this._onTouchEnd(w);};v.prototype.onClick=function(w){'use strict';if(this._scroller.scrolling)w.kill();};v.prototype.onScrollStart=function(w,x){var y=arguments.length<=2||arguments[2]===undefined?false:arguments[2];'use strict';this._scrollStart=true;this._eventData.scrolledByUser=y;m.invoke('MScrollArea:scrollstart',null,this._eventData);if(this._renderSlowly){o(this._renderID);this._renderID=r(this._renderScroll);}};v.prototype.onScroll=function(w,x){'use strict';m.invoke('MScrollArea:scroll',null,this._eventData);if(!this._renderSlowly)this._renderScroll();};v.prototype.onScrollEnd=function(w,x,y){'use strict';this._scrollStart=false;this._syncPaginator();this._eventData.scrollEndCount++;this._eventData.scrolledByUser=y;var z=null;for(var aa=0;aa<u.length;aa++)if(m.hasSigil(this._element,u[aa])){z=u[aa];break;}m.invoke('MScrollArea:scrollend',z,this._eventData);if(this._renderSlowly){o(this._renderID);delete this._renderID;this._renderScroll();}};v.prototype.setEnabled=function(w){'use strict';this._enabled=w;if(!w)this._clearListeners();};v.prototype._bindListeners=function(){'use strict';var w=this._element;this._listeners.push(i.listen(w,'touchmove',null,this._onTouchMove),i.listen(w,'touchend',null,this._onTouchEnd),i.listen(w,'touchcancel',null,this._onTouchEnd));};v.prototype._clearListeners=function(){'use strict';for(var w=0,x;x=this._listeners[w];w++)x.remove();this._listeners.length=0;};v.prototype._updateElementPosition=function(w,x,y){'use strict';var z=q('transform'),aa=w&&w.style;if(aa)if(z){aa[q('backface-visibility')]='hidden';aa[z]='translate('+y+'px,'+x+'px)';}else{aa.left=y+'px';aa.top=x+'px';}};v.prototype._syncPaginator=function(){'use strict';if(this._paginatorEl){var w=i.create('i',{className:'scrollAreaPaginatorBubble'}),x=document.createDocumentFragment(),y=this._scroller.pageIndex;for(var z=0;z<this._scroller.pagesCount;z++){var aa=w.cloneNode(false);if(z===y)h.conditionClass(aa,'scrollAreaPaginatorBubbleActive',true);x.appendChild(aa);}i.setContent(this._paginatorEl,x);}};Object.assign(v.prototype,{_renderSlowly:k.IS_ANDROID&&k.OS_VERSION<4.1});(function(){n.enableDispatch(window,'orientationchange');})();f.exports=v;}),null);
__d('InitMScrollArea',['MLegacyDataStore','MScrollArea','Stratcom','ge'],(function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l='scroll-area',m=[],n=false;function o(){function q(){var u=document.documentElement;for(var v=0,w;w=m[v];v++)if(!u.contains(w.element)){w.scrollArea.dispose();var x=h.get(w.element);delete x.scrollArea;m.splice(v,1);v--;}}j.listen('m:page:unload',null,q);function r(u){var v=h.get(u.getNode(l));v&&v.scrollArea&&v.scrollArea.onTouchStart&&v.scrollArea.onTouchStart(u);}j.listen('touchstart',l,r);function s(u){for(var v=0,w;w=m[v];v++){var x=w.scrollArea,y=x.getAutomaticPaging(),z=u.getType()==='m:orientation-resize:complete';if(y){var aa=x.getScrollWidth();if(z&&aa===w.width)continue;w.width=aa;}else if(z)continue;x.reflow(y?'auto':null);}}j.listen('m:viewport:orientation-change',null,s);j.listen('m:orientation-resize:complete',null,s);function t(u){var v=h.get(u.getNode(l));v.scrollArea&&v.scrollArea.onClick(u);}j.listenCapture('click',l,t);}function p(q){if(!n){o();n=true;}var r=k(q.id);if(!r)return;var s=k(q.bodyId),t=h.get(r);if(!t.scrollArea){t.marauderEventName=q.marauderEventName;t.scrollArea=new i(r,s,t);m.push({scrollArea:t.scrollArea,element:r});}return t.scrollArea;}g.main=p;}),null);